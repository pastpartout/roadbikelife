!function(n){var t={tooltip:{show:!1,cssClass:"flotTip",content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,monthNames:null,dayNames:null,shifts:{x:10,y:20},defaultTheme:!0,snap:!0,lines:!1,clickTips:!1,onHover:function(t,i){},$compat:!1}};function i(t){this.tipPosition={x:0,y:0},this.init(t)}t.tooltipOpts=t.tooltip,i.prototype.init=function(h){var x=this,t=n.plot.plugins.length;if(this.plotPlugins=[],t)for(var i=0;i<t;i++)this.plotPlugins.push(n.plot.plugins[i].name);function e(t){var i={};i.x=t.pageX,i.y=t.pageY,h.setTooltipPosition(i)}function o(t,i,e){x.clickmode?(n(h.getPlaceholder()).bind("plothover",s),h.hideTooltip(),x.clickmode=!1):(s(0,i,e),x.getDomElement().is(":visible")&&(n(h.getPlaceholder()).unbind("plothover",s),x.clickmode=!0))}function s(t,l,i){function c(t,i,e,o){return Math.sqrt((e-t)*(e-t)+(o-i)*(o-i))}var d,u;i?h.showTooltip(i,x.tooltipOptions.snap?i:l):x.plotOptions.series.lines.show&&!0===x.tooltipOptions.lines?(i=x.plotOptions.grid.mouseActiveRadius,d={distance:i+1},u=l,n.each(h.getData(),function(t,i){for(var e,o,s,n,r=0,a=-1,p=1;p<i.data.length;p++)i.data[p-1][0]<=l.x&&i.data[p][0]>=l.x&&(r=p-1,a=p);-1!==a?(n={x:i.data[r][0],y:i.data[r][1]},e={x:i.data[a][0],y:i.data[a][1]},(o=function(e,o,s,n,r,a,t){if(!t||(t=function(){if(void 0!==s)return{x:s,y:o};if(void 0!==n)return{x:e,y:n};var t,i=-1/((a-n)/(r-s));return{x:t=(r*(e*i-o+n)+s*(e*-i+o-a))/(i*(r-s)+n-a),y:i*t-i*e+o}}()).x>=Math.min(s,r)&&t.x<=Math.max(s,r)&&t.y>=Math.min(n,a)&&t.y<=Math.max(n,a)){var i=n-a,p=r-s,t=s*a-n*r;return Math.abs(i*e+p*o+t)/Math.sqrt(i*i+p*p)}i=c(e,o,s,n),p=c(e,o,r,a);return p<i?p:i}(i.xaxis.p2c(l.x),i.yaxis.p2c(l.y),i.xaxis.p2c(n.x),i.yaxis.p2c(n.y),i.xaxis.p2c(e.x),i.yaxis.p2c(e.y),!1))<d.distance&&(s=c(n.x,n.y,l.x,l.y)<c(l.x,l.y,e.x,e.y)?r:a,i.datapoints.pointsize,n=[l.x,n.y+(e.y-n.y)*((l.x-n.x)/(e.x-n.x))],d={distance:o,item:{datapoint:n,dataIndex:s,series:i,seriesIndex:t}},x.tooltipOptions.snap&&(u={pageX:i.xaxis.p2c(n[0]),pageY:i.yaxis.p2c(n[1])}))):h.hideTooltip()}),d.distance<i+1?h.showTooltip(d.item,u):h.hideTooltip()):h.hideTooltip()}h.hooks.bindEvents.push(function(t,i){x.plotOptions=t.getOptions(),"boolean"==typeof x.plotOptions.tooltip&&(x.plotOptions.tooltipOpts.show=x.plotOptions.tooltip,x.plotOptions.tooltip=x.plotOptions.tooltipOpts,delete x.plotOptions.tooltipOpts),!1!==x.plotOptions.tooltip.show&&void 0!==x.plotOptions.tooltip.show&&(x.tooltipOptions=x.plotOptions.tooltip,x.tooltipOptions.$compat?(x.wfunc="width",x.hfunc="height"):(x.wfunc="innerWidth",x.hfunc="innerHeight"),x.getDomElement(),n(t.getPlaceholder()).bind("plothover",s),x.tooltipOptions.clickTips&&n(t.getPlaceholder()).bind("plotclick",o),x.clickmode=!1,n(i).bind("mousemove",e))}),h.hooks.shutdown.push(function(t,i){n(t.getPlaceholder()).unbind("plothover",s),n(t.getPlaceholder()).unbind("plotclick",o),t.removeTooltip(),n(i).unbind("mousemove",e)}),h.setTooltipPosition=function(t){var i=x.getDomElement(),e=i.outerWidth()+x.tooltipOptions.shifts.x,i=i.outerHeight()+x.tooltipOptions.shifts.y;t.x-n(window).scrollLeft()>n(window)[x.wfunc]()-e&&(t.x-=e,t.x=Math.max(t.x,0)),t.y-n(window).scrollTop()>n(window)[x.hfunc]()-i&&(t.y-=i),isNaN(t.x)?x.tipPosition.x=x.tipPosition.xPrev:(x.tipPosition.x=t.x,x.tipPosition.xPrev=t.x),isNaN(t.y)?x.tipPosition.y=x.tipPosition.yPrev:(x.tipPosition.y=t.y,x.tipPosition.yPrev=t.y)},h.showTooltip=function(t,i,e){var o=x.getDomElement(),s=x.stringFormat(x.tooltipOptions.content,t);""!==s&&(o.html(s),h.setTooltipPosition({x:x.tipPosition.x,y:x.tipPosition.y}),o.css({left:x.tipPosition.x+x.tooltipOptions.shifts.x,top:x.tipPosition.y+x.tooltipOptions.shifts.y}).show(),"function"==typeof x.tooltipOptions.onHover&&x.tooltipOptions.onHover(t,o))},h.hideTooltip=function(){x.getDomElement().hide().html("")},h.removeTooltip=function(){x.getDomElement().remove()}},i.prototype.getDomElement=function(){var t=n("<div>");return this.tooltipOptions&&this.tooltipOptions.cssClass&&0===(t=n("."+this.tooltipOptions.cssClass)).length&&((t=n("<div />").addClass(this.tooltipOptions.cssClass)).appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&t.css({background:"#fff","z-index":"1040",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"})),t},i.prototype.stringFormat=function(t,i){var e,o,s,n,r,a=/%s/,p=/%c/,l=/%lx/,c=/%ly/,d=/%x\.{0,1}(\d{0,})/,u=/%y\.{0,1}(\d{0,})/;if(void 0!==i.series.threshold?(e=i.datapoint[0],o=i.datapoint[1],s=i.datapoint[2]):void 0!==i.series.curvedLines?(e=i.datapoint[0],o=i.datapoint[1]):s=void 0!==i.series.lines&&i.series.lines.steps?(e=i.series.datapoints.points[2*i.dataIndex],o=i.series.datapoints.points[2*i.dataIndex+1],""):(e=i.series.data[i.dataIndex][0],o=i.series.data[i.dataIndex][1],i.series.data[i.dataIndex][2]),null===i.series.label&&i.series.originSeries&&(i.series.label=i.series.originSeries.label),"function"==typeof t&&(t=t(i.series.label,e,o,i)),"boolean"==typeof t&&!t)return"";if(s&&(t=t.replace("%ct",s)),void 0!==i.series.percent?n=i.series.percent:void 0!==i.series.percents&&(n=i.series.percents[i.dataIndex]),"number"==typeof n&&(t=this.adjustValPrecision(/%p\.{0,1}(\d{0,})/,t,n)),i.series.hasOwnProperty("pie")&&void 0!==i.series.data[0][1]&&(r=i.series.data[0][1]),"number"==typeof r&&(t=t.replace("%n",r)),t=void 0!==i.series.label?t.replace(a,i.series.label):t.replace(a,""),t=void 0!==i.series.color?t.replace(p,i.series.color):t.replace(p,""),t=this.hasAxisLabel("xaxis",i)?t.replace(l,i.series.xaxis.options.axisLabel):t.replace(l,""),t=this.hasAxisLabel("yaxis",i)?t.replace(c,i.series.yaxis.options.axisLabel):t.replace(c,""),this.isTimeMode("xaxis",i)&&this.isXDateFormat(i)&&(t=t.replace(d,this.timestampToDate(e,this.tooltipOptions.xDateFormat,i.series.xaxis.options))),this.isTimeMode("yaxis",i)&&this.isYDateFormat(i)&&(t=t.replace(u,this.timestampToDate(o,this.tooltipOptions.yDateFormat,i.series.yaxis.options))),"number"==typeof e&&(t=this.adjustValPrecision(d,t,e)),"number"==typeof o&&(t=this.adjustValPrecision(u,t,o)),void 0!==i.series.xaxis.ticks){var h,x=this.hasRotatedXAxisTicks(i)?"rotatedTicks":"ticks",v=i.dataIndex+i.seriesIndex;for(h in i.series.xaxis[x])i.series.xaxis[x].hasOwnProperty(v)&&!this.isTimeMode("xaxis",i)&&(this.isCategoriesMode("xaxis",i)?i.series.xaxis[x][v].label:i.series.xaxis[x][v].v)===e&&(t=t.replace(d,i.series.xaxis[x][v].label.replace(/\$/g,"$$$$")))}if(void 0!==i.series.yaxis.ticks)for(var f in i.series.yaxis.ticks)i.series.yaxis.ticks.hasOwnProperty(f)&&(this.isCategoriesMode("yaxis",i)?i.series.yaxis.ticks[f].label:i.series.yaxis.ticks[f].v)===o&&(t=t.replace(u,i.series.yaxis.ticks[f].label.replace(/\$/g,"$$$$")));return void 0!==i.series.xaxis.tickFormatter&&(t=t.replace("%x",i.series.xaxis.tickFormatter(e,i.series.xaxis).replace(/\$/g,"$$"))),void 0!==i.series.yaxis.tickFormatter&&(t=t.replace("%y",i.series.yaxis.tickFormatter(o,i.series.yaxis).replace(/\$/g,"$$"))),t},i.prototype.isTimeMode=function(t,i){return void 0!==i.series[t].options.mode&&"time"===i.series[t].options.mode},i.prototype.isXDateFormat=function(t){return void 0!==this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},i.prototype.isYDateFormat=function(t){return void 0!==this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},i.prototype.isCategoriesMode=function(t,i){return void 0!==i.series[t].options.mode&&"categories"===i.series[t].options.mode},i.prototype.timestampToDate=function(t,i,e){e=n.plot.dateGenerator(t,e);return n.plot.formatDate(e,i,this.tooltipOptions.monthNames,this.tooltipOptions.dayNames)},i.prototype.adjustValPrecision=function(t,i,e){var o;return null!==i.match(t)&&""!==RegExp.$1&&(o=RegExp.$1,e=e.toFixed(o),i=i.replace(t,e)),i},i.prototype.hasAxisLabel=function(t,i){return-1!==n.inArray("axisLabels",this.plotPlugins)&&void 0!==i.series[t].options.axisLabel&&0<i.series[t].options.axisLabel.length},i.prototype.hasRotatedXAxisTicks=function(t){return-1!==n.inArray("tickRotor",this.plotPlugins)&&void 0!==t.series.xaxis.rotatedTicks},n.plot.plugins.push({init:function(t){new i(t)},options:t,name:"tooltip",version:"0.8.5"})}(jQuery),function(){var t={series:{curvedLines:{active:!1,apply:!1,monotonicFit:!1,tension:.5,nrSplinePoints:20,legacyOverride:void 0}}};jQuery.plot.plugins.push({init:function(t){function e(t,i,e){var o=e.points.length/e.pointsize;if(!function(t){if(void 0===t.fit&&void 0===t.curvePointFactor&&void 0===t.fitPointDist)return!1;throw new Error("CurvedLines detected illegal parameters. The CurvedLines API changed with version 1.0.0 please check the options object.")}(i.curvedLines)&&1==i.curvedLines.apply&&void 0===i.originSeries&&1.005<o)if(i.lines.fill){var s=l(e,i.curvedLines,1),n=l(e,i.curvedLines,2);e.pointsize=3,e.points=[];for(var r=0,a=0,p=0;p<s.length||r<n.length;)s[p]==n[r]?(e.points[a]=s[p],e.points[a+1]=s[p+1],e.points[a+2]=n[r+1],r+=2,p+=2):s[p]<n[r]?(e.points[a]=s[p],e.points[a+1]=s[p+1],e.points[a+2]=0<a?e.points[a-1]:null,p+=2):(e.points[a]=n[r],e.points[a+1]=1<a?e.points[a-2]:null,e.points[a+2]=n[r+1],r+=2),a+=3}else 0<i.lines.lineWidth&&(e.points=l(e,i.curvedLines,1),e.pointsize=2)}function l(t,i,e){if(void 0===i.legacyOverride||0==i.legacyOverride)return function(t,i,e){for(var o=t.points,s=t.pointsize,n=function(t,i,e){for(var o=t.points,s=t.pointsize,n=[],r=[],a=0;a<o.length-s;a+=s){var p=a+e,l=o[(f=a)+s]-o[f],c=o[p+s]-o[p];n.push(l),r.push(c/l)}var d=[r[0]];if(i.monotonicFit)for(a=1;a<n.length;a++){var u,h,x=r[a],v=r[a-1];x*v<=0?d.push(0):(u=n[a],h=n[a-1],b=u+h,d.push(3*b/((b+u)/v+(b+h)/x)))}else for(a=s;a<o.length-s;a+=s){var f=a,p=a+e;d.push(Number(i.tension)*(o[p+s]-o[p-s])/(o[f+s]-o[f-s]))}d.push(r[r.length-1]);var y=[],m=[];for(a=0;a<n.length;a++){var g=d[a],O=d[a+1],x=r[a],P=1/n[a],b=g+O-x-x;y.push(b*P*P),m.push((x-b-g)*P)}for(var w=[],a=0;a<n.length;a++)w.push(function(e,o,s,n,r){return function(t){var i=t-e,t=i*i;return o*i*t+s*t+n*i+r}}(o[a*s],y[a],m[a],d[a],o[a*s+e]));return w}(t,i,e),r=[],a=0,p=0;p<o.length-s;p+=s){var l=p,c=p+e,d=o[l],u=o[l+s],h=(u-d)/Number(i.nrSplinePoints);r.push(o[l]),r.push(o[c]);for(var x=d+=h;x<u;x+=h)r.push(x),r.push(n[a](x));a++}return r.push(o[o.length-s]),r.push(o[o.length-s+e]),r}(t,i,e);var o={fit:!1,curvePointFactor:20,fitPointDist:void 0};return function(t,i,e){var o,s,n,r=t.points,a=t.pointsize,p=Number(i.curvePointFactor)*(r.length/a),l=new Array,c=new Array,d=-1,u=-1,h=0;if(i.fit){o=void 0===i.fitPointDist?(t=r[0],(r[r.length-a]-t)/5e4):Number(i.fitPointDist);for(var x=0;x<r.length;x+=a){u=(d=x)+e,s=r[d]-o,n=r[d]+o;for(var v=2;s==r[d]||n==r[d];)s=r[d]-o*v,n=r[d]+o*v,v++;l[h]=s,c[h]=r[u],l[++h]=r[d],c[h]=r[u],l[++h]=n,c[h]=r[u],h++}}else for(x=0;x<r.length;x+=a)u=(d=x)+e,l[h]=r[d],c[h]=r[u],h++;var f=l.length,y=new Array,m=new Array;y[0]=0,y[f-1]=0,m[0]=0;for(x=1;x<f-1;++x){var g=l[x+1]-l[x-1];if(0==g)return[];var O=(l[x]-l[x-1])/g,g=O*y[x-1]+2;y[x]=(O-1)/g,m[x]=(c[x+1]-c[x])/(l[x+1]-l[x])-(c[x]-c[x-1])/(l[x]-l[x-1]),m[x]=(6*m[x]/(l[x+1]-l[x-1])-O*m[x-1])/g}for(h=f-2;0<=h;--h)y[h]=y[h]*y[h+1]+m[h];var P=(l[f-1]-l[0])/(p-1),b=new Array,w=new Array,T=new Array;for(b[0]=l[0],w[0]=c[0],T.push(b[0]),T.push(w[0]),h=1;h<p;++h){b[h]=b[0]+h*P;for(var k=f-1,D=0;1<k-D;){var F=Math.round((k+D)/2);l[F]>b[h]?k=F:D=F}var L=l[k]-l[D];if(0==L)return[];var $=(l[k]-b[h])/L,A=(b[h]-l[D])/L;w[h]=$*c[D]+A*c[k]+(($*$*$-$)*y[D]+(A*A*A-A)*y[k])*(L*L)/6,T.push(b[h]),T.push(w[h])}return T}(t,jQuery.extend(o,i.legacyOverride),e)}t.hooks.processOptions.push(function(t,i){i.series.curvedLines.active&&t.hooks.processDatapoints.unshift(e)})},options:t,name:"curvedLines",version:"1.1.1"})}();
//# sourceMappingURL=flot_addons.js.map
